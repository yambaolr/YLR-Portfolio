<main>

    <section class="contact-page" aria-labelledby="contact-page-title">
        <h1 id="contact-page-title" class="page-title">Contact</h1>

        <div class="contact-container">

        <div class="contact-form">
            <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" novalidate aria-label="Contact Form">

            <fieldset>
                <legend>Send me a message</legend>

                <div class="form-group">
                <label for="contact-name">Name</label>
                <input id="contact-name" type="text" formControlName="name" 
                        [class.invalid]="isSubmitted && f['name'].invalid" 
                        aria-required="true" aria-invalid="{{isSubmitted && f['name'].invalid}}" />
                @if (isSubmitted && f['name'].errors?.['required']) {
                    <small role="alert">Name is required.</small>
                }
                </div>

                <div class="form-group">
                <label for="contact-email">Email</label>
                <input id="contact-email" type="email" formControlName="email" 
                        [class.invalid]="isSubmitted && f['email'].invalid" 
                        aria-required="true" aria-invalid="{{isSubmitted && f['email'].invalid}}" />
                @if (isSubmitted && f['email'].errors?.['required']) {
                    <small role="alert">Email is required.</small>
                }
                @if (isSubmitted && f['email'].errors?.['email']) {
                    <small role="alert">Invalid email format.</small>
                }
                </div>

                <div class="form-group">
                <label for="contact-message">Message</label>
                <textarea id="contact-message" rows="6" formControlName="message"
                            [class.invalid]="isSubmitted && f['message'].invalid" 
                            aria-required="true" aria-invalid="{{isSubmitted && f['message'].invalid}}"></textarea>
                @if (isSubmitted && f['message'].errors?.['required']) {
                    <small role="alert">Message is required.</small>
                }
                </div>

                <button type="submit" class="btn-primary">Submit</button>

                @if (successMessage) {
                <p class="success-msg" role="alert">{{ successMessage }}</p>
                }
                @if (errorMessage) {
                <p class="error-msg" role="alert">{{ errorMessage }}</p>
                }

            </fieldset>

            </form>
        </div>

        <div class="contact-info-card" role="region" aria-labelledby="contact-info-title">
            <h2 id="contact-info-title">Get in touch!</h2>
            <p>Feel free to reach out if you'd like to work together!</p>

            <div class="contact-item">
                <a href="mailto:yambaolorinrobelle@gmail.com">
                    <img src="images/mail-icon.png" alt="Email" class="icon">
                    yambaolorinrobelle@gmail.com
                </a>
            </div>

            <div class="contact-item">
            <a href="https://github.com/yambaolr" target="_blank">
                <img src="images/github-icon.png" alt="GitHub Icon" class="icon">
                github.com/yambaolr
            </a>
            </div>

            <div class="contact-item">
            <a href="https://linkedin.com/in/yambaolr" target="_blank">
                <img src="images/linkedin-icon.png" alt="LinkedIn Icon" class="icon">
                Lorin Robelle Yambao
            </a>
            </div>

            <div class="contact-item">
                <a href="tel:+639692754224">
                <img src="images/contact-icon.png" alt="Phone Icon" class="icon">
                +63 969-275-4224</a>
            </div>

        </div>

        </div>
    </section>

    <hr class="divider" />

    <section class="resume-section" aria-labelledby="resume-title">
        <h2 id="resume-title" class="resume-title">Download My Resume</h2>
        <p class="resume-description">
        Want to know more about my experience and skills? Download my resume here:
        </p>
        <a href="files/Yambao-Lorin-Robelle-Resume.pdf" download class="btn-resume" aria-label="Download Resume PDF">
        Download Resume
        </a>
    </section>

</main>